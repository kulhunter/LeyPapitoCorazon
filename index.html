<!DOCTYPE html>
<html lang="es-CL">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ley Papito Corazón 2025 | Guía Legal Completa y Actualizada (Chile)</title>
    
    <!-- SEO ESTRATÉGICO -->
    <meta name="description" content="Guía Definitiva de la Ley 21.484 (Papito Corazón). Aprende a solicitar retención de fondos, AFP, y cobro de pensión de alimentos en Chile. Asesoría legal gratuita con IA.">
    <meta name="keywords" content="ley papito corazon, ley 21484, pensión de alimentos chile, retención afp, registro nacional de deudores, deuda alimentos, tribunal de familia, tramite facil pjud, cuidado personal, visitas, abogados de familia gratis">
    <meta name="author" content="solucionador.cl">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph / Facebook / WhatsApp -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://solucionador.cl/">
    <meta property="og:title" content="Ley Papito Corazón: Recupera tu Pensión de Alimentos">
    <meta property="og:description" content="¿Te deben pensión? La nueva Ley 21.484 permite que el Tribunal busque los fondos por ti. Entra y asesórate gratis con nuestra IA Jurídica.">
    <meta property="og:image" content="https://solucionador.cl/assets/share-image.jpg">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:title" content="Guía Ley Papito Corazón Chile">
    <meta property="twitter:description" content="Asesoría legal inteligente para cobrar pensiones de alimentos.">
    
    <!-- Google AdSense Standard -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7868880098336635" crossorigin="anonymous"></script>

    <!-- Google AdSense AMP (Solicitado) -->
    <script async custom-element="amp-auto-ads" src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js"></script>

    <!-- Fonts & Icons -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;800&family=Lato:wght@300;400;700&family=Merriweather:ital,wght@0,300;0,400;1,300&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Libraries -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['Montserrat', 'sans-serif'], body: ['Lato', 'sans-serif'], serif: ['Merriweather', 'serif'] },
                    colors: { slate: { 850: '#1e293b', 900: '#0f172a' }, brand: { purple: '#8b5cf6', pink: '#ec4899', blue: '#3b82f6' } }
                }
            }
        }
    </script>

    <style>
        body { background-color: #0f172a; color: #f1f5f9; font-family: 'Lato', sans-serif; overflow-x: hidden; }
        #canvas-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; background: radial-gradient(circle at 50% 30%, #1e293b 0%, #0f172a 100%); }
        
        .ai-input-wrapper {
            background: rgba(30, 41, 59, 0.7); backdrop-filter: blur(10px);
            border: 1px solid rgba(139, 92, 246, 0.3); border-radius: 20px;
            transition: all 0.3s ease; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
            position: relative; z-index: 60; /* Asegurar que el input esté sobre el contenido */
        }
        .ai-input-wrapper:focus-within { border-color: #ec4899; box-shadow: 0 0 25px rgba(236, 72, 153, 0.2); }
        
        /* CORRECCIÓN VISUAL: Fondo sólido y Z-Index alto */
        .ai-result-card {
            background-color: #0f172a; /* Fondo sólido oscuro (Slate 900) */
            border: 1px solid rgba(139, 92, 246, 0.5); /* Borde más visible */
            border-left: 4px solid #8b5cf6; 
            padding: 1.5rem; 
            border-radius: 12px; 
            margin-top: 1rem;
            animation: slideUp 0.3s ease-out; 
            max-height: 70vh; 
            overflow-y: auto;
            box-shadow: 0 20px 50px rgba(0,0,0,0.9); /* Sombra fuerte para separar del fondo */
            position: relative;
            z-index: 100; /* Prioridad máxima de visualización */
        }
        
        #ai-results-panel {
            z-index: 100; /* Asegurar que el contenedor también esté arriba */
        }

        @keyframes slideUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .gradient-title { background: linear-gradient(135deg, #ffffff 0%, #d8b4fe 50%, #f472b6 100%); -webkit-background-clip: text; background-clip: text; color: transparent; }
        .hidden { display: none !important; }
        .visible-section { display: block !important; animation: fadeIn 0.5s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: scale(0.99); } to { opacity: 1; transform: scale(1); } }
        
        /* Loading Dots */
        .typing-indicator span { display: inline-block; width: 8px; height: 8px; background-color: #a855f7; border-radius: 50%; animation: typing 1s infinite; margin: 0 2px; }
        .typing-indicator span:nth-child(2) { animation-delay: 0.2s; }
        .typing-indicator span:nth-child(3) { animation-delay: 0.4s; }
        @keyframes typing { 0%, 100% { transform: translateY(0); opacity: 0.5; } 50% { transform: translateY(-5px); opacity: 1; } }

        /* AdSense Placeholder Styles */
        .ad-slot {
            width: 100%; min-height: 100px;
            background: rgba(30, 41, 59, 0.3);
            border: 1px dashed rgba(255,255,255,0.1);
            display: flex; align-items: center; justify-content: center;
            margin: 2rem 0; color: #64748b; font-size: 0.8rem;
            border-radius: 8px;
        }
    </style>
</head>
<body class="antialiased">
    <!-- AdSense AMP (Inyectado al inicio del body) -->
    <amp-auto-ads type="adsense" data-ad-client="ca-pub-7868880098336635"></amp-auto-ads>

    <div id="canvas-container"></div>

    <!-- LANDING -->
    <div id="landing-section" class="min-h-screen flex flex-col items-center justify-center p-4 relative z-10">
        
        <div class="mb-8" id="db-status">
            <span class="bg-slate-800/80 border border-slate-600 px-4 py-2 rounded-full text-xs font-bold text-gray-400 flex items-center gap-2">
                <i class="fa-solid fa-database animate-pulse"></i> Iniciando Sistema Legal...
            </span>
        </div>

        <h1 class="text-5xl md:text-7xl font-black text-center mb-4 tracking-tight">
            LEY PAPITO <span class="gradient-title">CORAZÓN</span>
        </h1>
        
        <p class="text-slate-300 mb-8 text-center max-w-xl text-lg font-light">
            Guía definitiva de la <strong>Ley 21.484</strong>. Asesoría legal inteligente, gratuita y anónima sobre pensión de alimentos en Chile.
        </p>

        <!-- ESPACIO PUBLICITARIO 1 -->
        <div class="ad-slot max-w-2xl">
            <!-- Google AdSense Code Here -->
            <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-client="ca-pub-7868880098336635"
                 data-ad-slot="XXXXXXXXXX"
                 data-ad-format="auto"
                 data-full-width-responsive="true"></ins>
            <span class="opacity-50">Publicidad</span>
        </div>

        <!-- INPUT IA -->
        <div class="w-full max-w-2xl relative z-50 mb-12">
            <div class="ai-input-wrapper flex items-center p-2">
                <div class="pl-4 pr-3 text-brand-purple text-2xl"><i class="fa-solid fa-gavel"></i></div>
                <input type="text" id="ai-search-input" 
                    placeholder="Ej: 'no paga pensión', 'abuela cuida al niño', 'retención AFP'..." 
                    class="w-full bg-transparent border-none outline-none text-white placeholder-slate-400 text-lg py-3"
                    onkeypress="handleKeyPress(event)" autocomplete="off">
                <button onclick="performSearch()" class="bg-gradient-to-r from-purple-600 to-pink-600 text-white p-3 px-6 rounded-xl font-bold hover:scale-105 transition-transform">
                    Consultar IA
                </button>
            </div>
            <!-- RESULTADOS -->
            <div id="ai-results-panel" class="hidden absolute top-full left-0 w-full mt-4"></div>
        </div>

        <!-- ACCESOS RÁPIDOS -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 w-full max-w-3xl relative z-10"> <!-- z-10 para asegurar que estén debajo del modal si se abre -->
            <button onclick="enterSite('mama')" class="bg-slate-800/50 hover:bg-slate-800 border border-slate-700 hover:border-pink-500 p-6 rounded-2xl text-left transition-all group">
                <h3 class="text-xl font-black text-white group-hover:text-pink-400">SOY MAMÁ <i class="fa-solid fa-venus ml-2"></i></h3>
                <p class="text-sm text-slate-400">Cómo cobrar, Retenciones, Miedos</p>
            </button>
            <button onclick="enterSite('papa')" class="bg-slate-800/50 hover:bg-slate-800 border border-slate-700 hover:border-blue-500 p-6 rounded-2xl text-left transition-all group">
                <h3 class="text-xl font-black text-white group-hover:text-blue-400">SOY PAPÁ <i class="fa-solid fa-mars ml-2"></i></h3>
                <p class="text-sm text-slate-400">Deuda, Defensa, Visitas</p>
            </button>
        </div>
    </div>

    <!-- CONTENIDO GUÍA -->
    <div id="guide-ui" class="hidden min-h-screen bg-[#0f172a] relative z-20">
        <header class="fixed top-0 w-full bg-[#0f172a]/95 backdrop-blur border-b border-slate-800 z-40 px-4 py-4 flex justify-between items-center">
            <button onclick="exitSite()" class="text-slate-400 hover:text-white font-bold text-sm uppercase flex items-center gap-2">
                <i class="fa-solid fa-arrow-left"></i> Volver
            </button>
            <div id="profile-badge"></div>
        </header>
        <div class="max-w-5xl mx-auto pt-24 px-4 pb-20">
            <main id="main-content" class="space-y-12"></main>
        </div>
    </div>

    <!-- LÓGICA -->
    <script>
        const apiKey = ""; 
        let leyesDB = []; 

        // 1. DATA DE RESPALDO
        const fallbackLeyes = [
          {
            "id": "LEY-21484",
            "nombre": "Ley de Responsabilidad Parental y Pago Efectivo (Papito Corazón)",
            "palabras_clave": ["retención", "bancos", "afp", "investigación", "patrimonio", "cobro", "automático", "pjud"],
            "resumen": "Establece un mecanismo de investigación automática. El tribunal debe buscar fondos en bancos e instituciones financieras para pagar la deuda.",
            "articulos_clave": [
              {
                "articulo": "Artículo 19 quater",
                "texto": "Procedimiento especial de cobro: El tribunal investigará el patrimonio del deudor a través de la interconexión con el SII, CMF y otras instituciones."
              },
              {
                "articulo": "Retención de Fondos",
                "texto": "Si se detectan fondos en cuentas bancarias o de ahorro, el juez ordenará la retención inmediata (congelamiento) para asegurar el pago."
              }
            ]
          },
          {
            "id": "LEY-14908",
            "nombre": "Ley sobre Abandono de Familia y Pago de Alimentos",
            "palabras_clave": ["arresto", "arraigo", "licencia", "registro", "deudores", "cesante", "mínimo", "informal", "negro"],
            "resumen": "Regula los montos, la forma de pago y los castigos (apremios) por no pagar la pensión.",
            "articulos_clave": [
              {
                "articulo": "Presunción de Ingresos",
                "texto": "Si el demandado no tiene contrato o no prueba sus ingresos, se presumirá que gana al menos el Sueldo Mínimo y la pensión se calculará sobre esa base."
              },
              {
                "articulo": "Registro Nacional de Deudores",
                "texto": "Quienes deban 3 meses continuos o 5 discontinuos ingresarán al Registro. No podrán renovar licencia de conducir ni pasaporte."
              }
            ]
          },
          {
            "id": "CODIGO-CIVIL-CUIDADO",
            "nombre": "Código Civil (Cuidado Personal y Visitas)",
            "palabras_clave": ["cuidado personal", "tuición", "visitas", "relación directa", "regular", "abuela", "vive con"],
            "resumen": "Normas sobre quién vive con el hijo y el derecho del otro padre a visitarlo.",
            "articulos_clave": [
              {
                "articulo": "Artículo 225",
                "texto": "El cuidado personal corresponde al padre o madre con quien conviva el hijo. Si el niño vive con un tercero (ej: abuela), se debe regularizar judicialmente."
              },
              {
                "articulo": "Relación Directa y Regular",
                "texto": "El padre/madre que no vive con el hijo tiene el derecho y deber de mantener contacto frecuente (visitas). Esto es un derecho del niño, no un premio por pagar pensión."
              }
            ]
          },
          {
            "id": "LEY-VIF",
            "nombre": "Ley de Violencia Intrafamiliar (20.066)",
            "palabras_clave": ["violencia", "golpes", "amenazas", "miedo", "riesgo", "pega", "insultos"],
            "resumen": "Sanciona el maltrato y protege a las víctimas de violencia física o psicológica.",
            "articulos_clave": [
              {
                "articulo": "Medidas Cautelares",
                "texto": "Ante riesgo inminente, el tribunal debe decretar orden de alejamiento o prohibición de acercamiento inmediata, independiente de los juicios de alimentos."
              }
            ]
          }
        ];

        async function loadLeyesDB() {
            const statusDiv = document.getElementById('db-status');
            try {
                // Intento 1: Cargar JSON Externo
                const response = await fetch('leyes_familia_chile.json');
                if (response.ok) {
                    leyesDB = await response.json();
                    console.log("✅ JSON externo cargado correctamente");
                    statusDiv.innerHTML = `<span class="bg-slate-800/80 border border-green-500/30 px-4 py-2 rounded-full text-xs font-bold text-white flex items-center gap-2"><i class="fa-solid fa-database text-green-400"></i> Base Legal Conectada (${leyesDB.length} leyes)</span>`;
                } else {
                    throw new Error("Archivo externo no disponible");
                }
            } catch (error) {
                // Intento 2: Usar Fallback Interno
                console.warn("⚠️ Usando base de datos interna (Fallback activo)");
                leyesDB = fallbackLeyes;
                statusDiv.innerHTML = `<span class="bg-slate-800/80 border border-yellow-500/30 px-4 py-2 rounded-full text-xs font-bold text-yellow-200 flex items-center gap-2"><i class="fa-solid fa-server"></i> Sistema Legal Interno (${leyesDB.length} leyes)</span>`;
            }
        }
        loadLeyesDB();

        async function performSearch() {
            const queryInput = document.getElementById('ai-search-input');
            const query = queryInput.value.toLowerCase().trim();
            const panel = document.getElementById('ai-results-panel');
            
            if(!query) return;

            panel.innerHTML = `<div class="ai-result-card text-center"><div class="flex flex-col items-center py-4"><div class="typing-indicator mb-2"><span></span><span></span><span></span></div><p class="text-xs font-bold text-slate-500 uppercase">Analizando...</p></div></div>`;
            panel.classList.remove('hidden');

            if (query.match(/(weon|conche|estupid|tonto|mierda|puta|culiao)/i)) {
                setTimeout(() => renderResult("Entiendo tu frustración", "Sé que estos temas dan rabia. Aunque soy una IA, estoy aquí para ayudarte legalmente. Intenta preguntar sobre 'cobros', 'deudas' o 'visitas' para darte una respuesta útil.", "Asistente Virtual", "shield-heart", "gray"), 500);
                return;
            }

            if (apiKey && apiKey.length > 5) {
                try {
                    const aiResponse = await fetchGeminiResponse(query);
                    renderResult("Análisis IA", aiResponse, "Inteligencia Artificial (Gemini)", "robot", "purple");
                    return;
                } catch (e) { console.log("API falló, usando respaldo local..."); }
            }

            const offlineResponse = getOfflineResponse(query);
            setTimeout(() => { renderResult(offlineResponse.title, offlineResponse.text, "Respaldo Legal (Sin Conexión)", "book-atlas", "blue"); }, 600);
        }

        function getOfflineResponse(query) {
            if (leyesDB.length > 0) {
                const leyMatch = leyesDB.find(ley => ley.palabras_clave && ley.palabras_clave.some(k => query.includes(k)));
                if (leyMatch) {
                    let articulosHTML = "";
                    if(leyMatch.articulos_clave) {
                        articulosHTML = leyMatch.articulos_clave.map(a => `<div class="mt-2 p-3 bg-slate-800/50 rounded border border-slate-700"><strong class="text-pink-400 block mb-1">${a.articulo}</strong><span class="text-slate-300 italic">"${a.texto}"</span></div>`).join('');
                    }
                    return { title: leyMatch.nombre, text: `${leyMatch.resumen}<br><br><div class="text-xs uppercase font-bold text-slate-500 mb-2">Fundamento Legal:</div>${articulosHTML}` };
                }
            }
            return { title: "Orientación General", text: "No encontré una ley exacta para tu búsqueda en mi base de datos actual, pero recuerda:<br><br>• <strong>Ley 21.484:</strong> Permite investigar cuentas bancarias y retener fondos.<br>• <strong>Ley 14.908:</strong> Si debe alimentos, entra al Registro de Deudores.<br>• <strong>Visitas:</strong> Son un derecho del niño, independiente de la deuda." };
        }

        async function fetchGeminiResponse(userQuery) {
            const endpoint = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;
            const systemPrompt = "Eres un abogado experto en Ley 21.484 Chile. Responde breve, empático y citando la ley si corresponde.";
            const payload = { contents: [{ parts: [{ text: userQuery }] }], systemInstruction: { parts: [{ text: systemPrompt }] } };
            const response = await fetch(endpoint, { method: 'POST', headers: {'Content-Type': 'application/json'}, body: JSON.stringify(payload) });
            if(!response.ok) throw new Error("Error API");
            const data = await response.json();
            return data.candidates?.[0]?.content?.parts?.[0]?.text || "Sin respuesta";
        }

        function renderResult(title, text, source, icon, colorName) {
            const panel = document.getElementById('ai-results-panel');
            const colors = { purple: "border-purple-500 bg-purple-900/20", blue: "border-blue-500 bg-blue-900/20", gray: "border-slate-500 bg-slate-800", green: "border-green-500 bg-green-900/20" };
            const badgeColor = colorName === 'purple' ? 'bg-purple-600' : (colorName === 'blue' ? 'bg-blue-600' : 'bg-slate-600');
            panel.innerHTML = `<div class="ai-result-card relative border-l-4 ${colors[colorName] || colors.gray}"><div class="absolute -top-3 left-4 ${badgeColor} px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider text-white shadow-md flex items-center gap-2"><i class="fa-solid fa-${icon}"></i> ${source}</div><button onclick="document.getElementById('ai-results-panel').classList.add('hidden')" class="absolute top-2 right-2 text-slate-400 hover:text-white p-2"><i class="fa-solid fa-xmark"></i></button><h3 class="text-white font-bold text-lg mt-3 mb-2">${title}</h3><div class="text-slate-200 text-sm leading-relaxed">${text}</div></div>`;
        }

        // --- CONTENIDO DE ALTA DENSIDAD PARA SEO ---
        const contentData = {
            mama: {
                html: `<div class="animate-fadeIn max-w-4xl mx-auto">
                        <h2 class="text-3xl md:text-5xl font-black text-white mb-8 text-pink-500 text-center">Guía Definitiva para Madres</h2>
                        
                        <p class="text-lg text-slate-300 mb-8 leading-relaxed">
                            Si eres madre en Chile y te deben pensión de alimentos, la <strong>Ley 21.484</strong> (conocida como Ley Papito Corazón) es tu herramienta más poderosa. Ya no tienes que investigar tú: el Estado tiene la obligación de buscar el patrimonio del deudor.
                        </p>

                        <!-- ESPACIO PUBLICITARIO 2 -->
                        <div class="ad-slot"><span class="opacity-50">Publicidad</span></div>

                        <div class="bg-slate-800 p-8 rounded-2xl border border-slate-700 mb-8 shadow-xl">
                            <h3 class="text-2xl font-bold text-white mb-4"><i class="fa-solid fa-bolt text-pink-500 mr-2"></i> 1. El Procedimiento Especial de Cobro</h3>
                            <p class="text-slate-300 mb-4">
                                Antiguamente, si el padre escondía el dinero, no había nada que hacer. Hoy, al solicitar una liquidación de deuda con 3 meses de impago (o intermitentes), puedes pedir al tribunal que active el <strong>Procedimiento Especial</strong>.
                            </p>
                            <ul class="list-disc ml-6 text-slate-400 space-y-2">
                                <li><strong>Interconexión Bancaria:</strong> El tribunal ordena a la CMF revisar cuentas corrientes, vistas, ahorro y fondos mutuos en TODOS los bancos de Chile.</li>
                                <li><strong>Retención SII:</strong> Se revisan devoluciones de impuestos y boletas de honorarios.</li>
                                <li><strong>Retención AFP:</strong> Si no hay dinero en cuentas bancarias, se puede cobrar hasta el 90% de los fondos de pensiones del deudor.</li>
                            </ul>
                        </div>

                        <div class="bg-slate-800 p-8 rounded-2xl border border-slate-700 mb-8 shadow-xl">
                            <h3 class="text-2xl font-bold text-white mb-4"><i class="fa-solid fa-mask text-pink-500 mr-2"></i> 2. Trabajo Informal ("En Negro")</h3>
                            <p class="text-slate-300 mb-4">
                                Una excusa común es "no tengo contrato". La ley chilena establece una <strong>Presunción de Ingresos</strong>. Si el demandado no puede probar sus ingresos, la ley asume que gana al menos el Sueldo Mínimo y la pensión se fija en base a eso (generalmente 40% del ingreso mínimo por un hijo).
                            </p>
                            <p class="text-slate-300">
                                Además, el tribunal puede solicitar al SII información sobre sus gastos (tarjetas de crédito, compra de vehículos) para probar que tiene un nivel de vida superior al que declara.
                            </p>
                        </div>

                        <!-- ESPACIO PUBLICITARIO 3 -->
                        <div class="ad-slot"><span class="opacity-50">Publicidad</span></div>
                       </div>` 
            },
            papa: {
                html: `<div class="animate-fadeIn max-w-4xl mx-auto">
                        <h2 class="text-3xl md:text-5xl font-black text-white mb-8 text-blue-500 text-center">Guía Definitiva para Padres</h2>

                        <p class="text-lg text-slate-300 mb-8 leading-relaxed">
                            Estar demandado por pensión de alimentos es una situación legal compleja. Ignorarla es el peor error. La deuda genera intereses, reajustes en UTM y puede llevarte al <strong>Registro Nacional de Deudores</strong>.
                        </p>

                        <!-- ESPACIO PUBLICITARIO 2 -->
                        <div class="ad-slot"><span class="opacity-50">Publicidad</span></div>

                        <div class="bg-slate-800 p-8 rounded-2xl border border-slate-700 mb-8 shadow-xl">
                            <h3 class="text-2xl font-bold text-white mb-4"><i class="fa-solid fa-triangle-exclamation text-blue-500 mr-2"></i> 1. El Mito del "Pago Directo"</h3>
                            <p class="text-slate-300 mb-4">
                                Muchos padres creen que comprar ropa, pagar el colegio directamente o dar dinero en efectivo cuenta como pensión. <strong>Legalmente, NO cuenta.</strong>
                            </p>
                            <p class="text-slate-300 border-l-4 border-blue-500 pl-4 italic">
                                La única forma válida de pago es el depósito en la cuenta de ahorro (BancoEstado) abierta por el tribunal. Todo lo demás se considera un "regalo" o "aporte voluntario", y la deuda en UTM seguirá creciendo.
                            </p>
                        </div>

                        <div class="bg-slate-800 p-8 rounded-2xl border border-slate-700 mb-8 shadow-xl">
                            <h3 class="text-2xl font-bold text-white mb-4"><i class="fa-solid fa-briefcase text-blue-500 mr-2"></i> 2. Cesantía y Rebaja</h3>
                            <p class="text-slate-300 mb-4">
                                Quedar cesante NO congela la deuda automáticamente. Si pierdes tu trabajo, la pensión se sigue cobrando al monto antiguo mes a mes.
                            </p>
                            <p class="text-slate-300">
                                <strong>¿Qué hacer?</strong> Debes acudir inmediatamente al Tribunal de Familia (o mediación) y solicitar una <strong>Rebaja de Alimentos</strong> o una Suspensión temporal por cambio de circunstancias. Si no lo haces, acumularás una deuda millonaria imposible de pagar después.
                            </p>
                        </div>
                       </div>`
            }
        };

        function enterSite(profile) {
            const data = contentData[profile];
            document.getElementById('main-content').innerHTML = data.html;
            document.getElementById('landing-section').classList.add('hidden');
            const guide = document.getElementById('guide-ui');
            guide.classList.remove('hidden');
            guide.classList.add('visible-section');
            window.scrollTo(0,0);
        }
        function exitSite() {
            document.getElementById('guide-ui').classList.add('hidden');
            document.getElementById('guide-ui').classList.remove('visible-section');
            document.getElementById('landing-section').classList.remove('hidden');
        }
        function handleKeyPress(e) { if(e.key === 'Enter') performSearch(); }

        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({alpha:true, antialias:true});
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.getElementById('canvas-container').appendChild(renderer.domElement);
        
        const particles = new THREE.Group();
        const geo = new THREE.SphereGeometry(0.05, 8, 8);
        const mat = new THREE.MeshBasicMaterial({color: 0x64748b});
        for(let i=0; i<200; i++) {
            const mesh = new THREE.Mesh(geo, mat);
            mesh.position.set((Math.random()-0.5)*30, (Math.random()-0.5)*30, (Math.random()-0.5)*30);
            particles.add(mesh);
        }
        scene.add(particles);
        camera.position.z = 15;
        function animate() { requestAnimationFrame(animate); particles.rotation.y += 0.0005; renderer.render(scene, camera); }
        animate();
        window.addEventListener('resize', ()=>{ camera.aspect = window.innerWidth/window.innerHeight; camera.updateProjectionMatrix(); renderer.setSize(window.innerWidth, window.innerHeight); });

    </script>
</body>
</html>
